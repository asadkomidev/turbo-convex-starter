{
  "introMessage": "Let's set up your services and environment variables.",
  "projects": [
    {
      "id": "convex",
      "exportCommand": "npx convex env set {{name}} {{value}}",
      "importCommand": "npx convex env get {{name}}",
      "ignoreLogs": ["âœ– Environment variable"]
    },
    {
      "id": "web",
      "envFile": "apps/web/.env"
    },
    {
      "id": "app",
      "envFile": "apps/app/.env"
    }
  ],
  "steps": [
    {
      "title": "App URL",
      "description": "The URL of the app, used for linking from the web app.",
      "variables": [
        {
          "name": "NEXT_PUBLIC_APP_URL",
          "projects": ["web"],
          "details": "This is the URL of the app, used for linking from the web app.",
          "defaultValue": "http://localhost:3000"
        }
      ],
      "interactive": false
    },
    {
      "title": "Convex",
      "description": "Convex is a complete backend platform that provides a database, API, and authentication.",
      "instructions": "Set up a Convex project at https://dashboard.convex.dev and obtain your Convex URL.",
      "variables": [
        {
          "name": "NEXT_PUBLIC_CONVEX_URL",
          "projects": ["web", "app"],
          "details": "You can find your Convex DeploymentURL in the Convex dashboard under 'Settings' > 'URL & Deploy Key'. It should look like 'https://example-123.convex.cloud'.",
          "template": "{{convexUrl}}",
          "defaultValue": "https://example-123.convex.cloud"
        }
      ]
    },

    {
      "title": "Polar",
      "description": "Polar is a billing platform that provides subscription management and billing.",
      "instructions": "Create an account at https://polar.sh/, set up an organization using the `Sell with Polar` button. Finally, switch sandbox mode to to get the right env variables, or go here: https://sandbox.polar.sh/dashboard/create for billing and obtain your access token and organization ID.",
      "variables": [
        {
          "name": "POLAR_ORGANIZATION_ID",
          "projects": ["convex", "web", "app"],
          "details": "Generate an Organization ID in the Polar dashboard under 'Settings' > 'General' > 'Organization'. Copy the ID and paste it here."
        },
        {
          "name": "POLAR_ACCESS_TOKEN",
          "projects": ["convex", "web", "app"],
          "details": "Generate an Organization Access Token in the Polar dashboard under 'Settings' > 'General' > 'Developers'. Required permissions: 'checkouts:read', 'checkouts:write', 'products:read', 'products:write', 'subscriptions:read', 'subscriptions:write', 'customers:read', 'customers:write', 'checkout_links:read', 'checkout_links:write', 'customer_portal:read', 'customer_portal:write', 'customer_sessions:write'."
        },
        {
          "name": "POLAR_WEBHOOK_SECRET",
          "projects": ["convex", "web", "app"],
          "details": "Create a webhook in the Polar dashboard under 'Settings' > 'Webhooks'. The payload format should be 'Raw'. Events to select are product.created, product.updated, subscription.created and subscription.updated. You can provide your own secret or use the 'Generate' option. Copy the secret and paste it here.",
          "info": [
            "Use this as your webhook URL: {{convexSiteUrl}}/polar/events"
          ]
        }
      ],
      "additionalInstructions": [
        "The url above uses the Sandbox environment for testing purposes."
      ]
    },

    {
      "title": "Resend",
      "description": "Resend is a transactional email platform used to handle subscription related emails in the app.",
      "instructions": "Create an account at https://resend.com and get your API key.",
      "variables": [
        {
          "name": "AUTH_RESEND_KEY",
          "projects": ["convex"],
          "details": "Find your API key in the Resend dashboard under 'API Keys'. It starts with 're_'."
        },
        {
          "name": "AUTH_RESEND_SENDER_EMAIL",
          "projects": ["convex"],
          "details": "This should be the email address you want to use as the sender for authentication emails. Make sure it's verified in your Resend account under 'Domains'. If not provided, you'll only be able to send emails to the address on your Resend account.",
          "required": false
        }
      ],
      "required": false,
      "requiredMessage": "Resend is required for subscription emails, but the app can run initially without it for testing purposes."
    }
  ]
}
